function g=LocalThresh(f,nhood,a,b,meantype)%该函数执行局部阈值处理
f_thr=graythresh(f);%计算阈值
f_glob=im2bw(f,f_thr);%分割图像

% f=tofloat(f);
SIG=stdfilt(f,nhood);%标准差
if nargin==5 && strcmp(meantype,'global');
    MEAN=mean2(SIG);
else
    MEAN=localmean(SIG,nhood);
end
g=(f>a*SIG) & f_glob;
figure;imshow(g);
g1=(f>SIG) & f_glob;
figure;imshow(g1);


    